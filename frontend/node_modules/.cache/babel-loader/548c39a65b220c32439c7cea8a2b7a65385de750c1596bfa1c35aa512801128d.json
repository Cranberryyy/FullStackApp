{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import APIService from'./APIService';import{Alert,Spinner}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function InsertForm(_ref){let{onFormSubmit}=_ref;const[title,setTitle]=useState('');const[body,setBody]=useState('');const[loading,setLoading]=useState(false);const[message,setMessage]=useState('');const navigate=useNavigate();// Use the navigate hook\nuseEffect(()=>{console.log(\"âœ… InsertForm component mounted!\");},[]);const handleSubmit=e=>{console.log(\"ðŸš€ handleSubmit triggered!\");e.preventDefault();if(!title.trim()||!body.trim()){console.log(\"âš ï¸ Form fields are empty!\");setMessage(\"âŒ Title and Body cannot be empty!\");return;}console.log(\"ðŸŸ¢ Submitting form with data:\",{title,body});setLoading(true);APIService.InsertArticle({title,body}).then(()=>{console.log(\"âœ… API call successful!\");setMessage(\"âœ… Article inserted successfully!\");setTitle('');setBody('');setLoading(false);onFormSubmit();setTimeout(()=>setMessage(''),5000);}).catch(error=>{console.error(\"âŒ Insert Failed:\",error);setMessage(\"âŒ Failed to insert article. Try again.\");setLoading(false);setTimeout(()=>setMessage(''),5000);});};const refresh_window=()=>{window.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{children:[message&&/*#__PURE__*/_jsx(Alert,{variant:message.includes(\"âœ…\")?\"success\":\"danger\",className:\"mt-3 text-center\",children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:e=>{setTitle(e.target.value);console.log(\"âœï¸ Title updated:\",e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Body\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:body,onChange:e=>{setBody(e.target.value);console.log(\"ðŸ“ Body updated:\",e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-2\",disabled:!title.trim()||!body.trim()||loading,children:loading?/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\"}):\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary mt-2 ml-2\",onClick:()=>refresh_window(),children:\"Go Back\"})]})]});}export default InsertForm;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","APIService","Alert","Spinner","jsx","_jsx","jsxs","_jsxs","InsertForm","_ref","onFormSubmit","title","setTitle","body","setBody","loading","setLoading","message","setMessage","navigate","console","log","handleSubmit","e","preventDefault","trim","InsertArticle","then","setTimeout","catch","error","refresh_window","window","location","reload","children","variant","includes","className","onSubmit","type","value","onChange","target","disabled","as","animation","size","role","onClick"],"sources":["/Users/yanhu/Desktop/FullStack/FullStackApp/frontend/src/components/InsertForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport APIService from './APIService';\nimport { Alert, Spinner } from 'react-bootstrap';\n\nfunction InsertForm({ onFormSubmit }) {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate(); // Use the navigate hook\n\n  useEffect(() => {\n    console.log(\"âœ… InsertForm component mounted!\");\n  }, []);\n\n  const handleSubmit = (e) => {\n    console.log(\"ðŸš€ handleSubmit triggered!\");\n    e.preventDefault();\n\n    if (!title.trim() || !body.trim()) {\n      console.log(\"âš ï¸ Form fields are empty!\");\n      setMessage(\"âŒ Title and Body cannot be empty!\");\n      return;\n    }\n\n    console.log(\"ðŸŸ¢ Submitting form with data:\", { title, body });\n    setLoading(true);\n\n    APIService.InsertArticle({ title, body })\n      .then(() => {\n        console.log(\"âœ… API call successful!\");\n        setMessage(\"âœ… Article inserted successfully!\");\n        setTitle('');\n        setBody('');\n        setLoading(false);\n        onFormSubmit();\n        setTimeout(() => setMessage(''), 5000);\n      })\n      .catch(error => {\n        console.error(\"âŒ Insert Failed:\", error);\n        setMessage(\"âŒ Failed to insert article. Try again.\");\n        setLoading(false);\n        setTimeout(() => setMessage(''), 5000);\n      });\n  };\n\n  const refresh_window = () => {\n    window.location.reload();\n  }\n\n\n  return (\n    <div>\n      {message && (\n        <Alert variant={message.includes(\"âœ…\") ? \"success\" : \"danger\"} className=\"mt-3 text-center\">\n          {message}\n        </Alert>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"mt-4\">\n        <div className=\"form-group\">\n          <label>Title</label>\n          <input \n            type=\"text\" \n            className=\"form-control\" \n            value={title} \n            onChange={(e) => {\n              setTitle(e.target.value);\n              console.log(\"âœï¸ Title updated:\", e.target.value);\n            }} \n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Body</label>\n          <textarea \n            className=\"form-control\" \n            value={body} \n            onChange={(e) => {\n              setBody(e.target.value);\n              console.log(\"ðŸ“ Body updated:\", e.target.value);\n            }} \n          />\n        </div>\n        <button \n          type=\"submit\" \n          className=\"btn btn-primary mt-2\"\n          disabled={!title.trim() || !body.trim() || loading}\n        >\n          {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" /> : \"Submit\"}\n        </button>\n\n        <button \n          type=\"button\" \n          className=\"btn btn-secondary mt-2 ml-2\"\n          onClick={() => refresh_window()}\n        >\n          Go Back\n        </button>\n\n      </form>\n    </div>\n  );\n}\n\nexport default InsertForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}