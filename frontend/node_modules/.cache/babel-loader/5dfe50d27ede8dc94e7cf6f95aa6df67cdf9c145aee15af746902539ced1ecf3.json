{"ast":null,"code":"import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import APIService from'./APIService';import'./DetailsPage.css';// Import the CSS file for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DetailsPage=()=>{var _location$state;const location=useLocation();const navigate=useNavigate();const article=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.article;// Get the passed article details\nconst[isEditing,setIsEditing]=useState(false);const[title,setTitle]=useState((article===null||article===void 0?void 0:article.title)||'');const[body,setBody]=useState((article===null||article===void 0?void 0:article.body)||'');if(!article){return/*#__PURE__*/_jsx(\"h2\",{children:\"No article selected\"});}const handleEditClick=()=>{setIsEditing(true);};const handleSaveClick=()=>{APIService.UpdateArticle(article.id,{title,body}).then(()=>{setIsEditing(false);navigate(-1);// Go back to the previous page after saving\n}).catch(error=>console.log(error));};return/*#__PURE__*/_jsxs(\"div\",{className:\"details-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Title\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:e=>setTitle(e.target.value)}):/*#__PURE__*/_jsx(\"p\",{children:article.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Description\"}),isEditing?/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:body,onChange:e=>setBody(e.target.value)}):/*#__PURE__*/_jsx(\"p\",{children:article.body})]}),isEditing?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSaveClick,children:\"Save\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleEditClick,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>navigate(-1),children:\"Go Back\"})]});};export default DetailsPage;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","APIService","jsx","_jsx","jsxs","_jsxs","DetailsPage","_location$state","location","navigate","article","state","isEditing","setIsEditing","title","setTitle","body","setBody","children","handleEditClick","handleSaveClick","UpdateArticle","id","then","catch","error","console","log","className","type","value","onChange","e","target","onClick"],"sources":["/Users/yanhu/Desktop/FullStack/FullStackApp/frontend/src/components/DetailsPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport APIService from './APIService';\nimport './DetailsPage.css'; // Import the CSS file for styling\n\nconst DetailsPage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const article = location.state?.article; // Get the passed article details\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [title, setTitle] = useState(article?.title || '');\n  const [body, setBody] = useState(article?.body || '');\n\n  if (!article) {\n    return <h2>No article selected</h2>;\n  }\n\n  const handleEditClick = () => {\n    setIsEditing(true);\n  };\n\n  const handleSaveClick = () => {\n    APIService.UpdateArticle(article.id, { title, body })\n      .then(() => {\n        setIsEditing(false);\n        navigate(-1); // Go back to the previous page after saving\n      })\n      .catch(error => console.log(error));\n  };\n\n  return (\n    <div className=\"details-page\">\n      <div className=\"box\">\n        <h2>Title</h2>\n        {isEditing ? (\n          <input \n            type=\"text\" \n            className=\"form-control\" \n            value={title} \n            onChange={(e) => setTitle(e.target.value)} \n          />\n        ) : (\n          <p>{article.title}</p>\n        )}\n      </div>\n      <div className=\"box\">\n        <h2>Description</h2>\n        {isEditing ? (\n          <textarea \n            className=\"form-control\" \n            value={body} \n            onChange={(e) => setBody(e.target.value)} \n          />\n        ) : (\n          <p>{article.body}</p>\n        )}\n      </div>\n      {isEditing ? (\n        <button className=\"btn btn-primary\" onClick={handleSaveClick}>\n          Save\n        </button>\n      ) : (\n        <button className=\"btn btn-secondary\" onClick={handleEditClick}>\n          Edit\n        </button>\n      )}\n      <button className=\"btn btn-secondary\" onClick={() => navigate(-1)}>\n        Go Back\n      </button>\n    </div>\n  );\n};\n\nexport default DetailsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}